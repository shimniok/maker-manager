<div id="twocolumn">

  <div class="column">
    <h1>Products</h1>
    <table class="bordered">
      <thead>
        <th id="id">ID</th>
        <th id="needed">Needed</th>
        <th id="inventory">Inventory</th>
        <th id="name">Name</th>
      </thead>
      <tbody>
        <tr ng-repeat="product in products" ng-click="select(product.id)">
          <td>{{product.id}}</td>
          <td>
            <span editable-text="product.needed" e-name="needed" e-form="rowform">{{ product.needed || "needed"}}</span>
          </td>
          <td>
            <span editable-text="product.inventory" e-name="inventory" e-form="rowform">{{product.inventory || "inventory"}}</span>
          </td>
          <td>
            <span editable-text="product.name" e-name="name" e-form="rowform">{{product.name || "name"}}</span>
            <mmrp-edit></mmrp-edit>
            <form editable-form name="rowform" ng-show="rowform.$visible">
              <mmrp-save></mmrp-save>
              <mmrp-cancel></mmrp-cancel>
              <mmrp-trash></mmrp-trash>
            </form>
          </td>
        </tr>
    	</tbody>
    </table>
    <button class="btn btn-default" ng-click="add()">Add row</button>
  </div>

  <div class="column" ng-hide="selected === null">
    <h1>{{selected.name}}</h1>
    <table class="bordered">
      <thead>
        <th>ID</th>
        <th>Inventory</th>
        <th>Ordered</th>
        <th>PartNo</th>
        <th>Footprint</th>
        <th>Value</th>
        <th>Voltage</th>
        <th>Tolerance</th>
        <th>Type</th>
        <th>Subtype</th>
      </thead>
      <tbody>
        <tr ng-repeat="part in bom">
          <td>{{part.id}}</td>
          <td>{{part.inventory}}</td>
          <td>{{part.ordered}}</td>
          <td>{{part.partNo}}</td>
          <td>{{part.footprint}}</td>
          <td>{{part.value}}</td>
          <td>{{part.voltage}}</td>
          <td>{{part.tolerance}}</td>
          <td>{{types[part.types_id].name}}</td>
          <td>{{subtypes[part.subtypes_id].name}}</td>
        </tr>
    	</tbody>
    </table>
  </div>
</div>

<!--
<mmrp-table api="api/products"></mmrp-table>

-->
